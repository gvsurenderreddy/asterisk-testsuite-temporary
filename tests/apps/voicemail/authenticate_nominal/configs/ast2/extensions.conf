; Checks the authentication of a user against a mailbox and/or password combo
;
; You may need to alter the Wait(5) statement if the audio prompt
; played back by the receiver has a longer greeting then the default.

[sendvoicemail]
exten => mailboxAndPassword,1,NoOp()
    same => n,Wait(5)
    same => n,Verbose(1, Sending DTMF signal for mailbox)
    same => n,SendDTMF(${MAILBOX})
    same => n,SendDTMF(#)
    same => n,Wait(1)
    same => n,Verbose(1, Sending DTMF signal for password)
    same => n,SendDTMF(${PASSWORD})
    same => n,SendDTMF(#)
    same => n,Wait(5)
    same => n,UserEvent(TestResult,result: unknown,status: execute next test)
    same => n,Wait(2)
    same => n,Hangup()

exten => password,1,NoOp()
    same => n,Wait(5)
    same => n,Verbose(1, Sending DTMF signal for password)
    same => n,SendDTMF(${PASSWORD})
    same => n,SendDTMF(#)
    same => n,Wait(5)
    same => n,UserEvent(TestResult,result: unknown,status: execute next test)
    same => n,Wait(2)
    same => n,Hangup()

