testinfo:
    summary: 'Test that a simple bridge works'
    description: |
        'Set up a bridge between two endpoints using the "L" option to app_dial and
        ensure that the call is automatically ended and that sounds play when they are
        expected to.'

test-modules:
    add-test-to-search-path: 'True'
    test-object:
        config-section: bridge-config
        typename: 'BridgeTestCase.BridgeTestCase'
    modules:
        -
            typename: 'Tester.Tester'

bridge-config:
  test-runs:
    -
        originate_channel: 'SIP/uut/no_warning'
    -
        originate_channel: 'SIP/uut/caller_warning'
    -
        originate_channel: 'SIP/uut/callee_warning'
    -
        originate_channel: 'SIP/uut/both_warning'
    -
        originate_channel: 'SIP/uut/no_warning_s'

properties:
    minversion: '11.0.0'
    dependencies:
        - python : 'twisted'
        - python : 'starpy'
    tags:
        - bridge
