[general]

[globals]
; this global variable can be used during debugging to view what step went wrong
BLONDE_TEST_B_LEG=FAIL - never even got to read the results

[transfertest]

;Call A leg
exten => a_dial,1,Dial(IAX2/iax_a@127.0.0.1:4570/a_exten,,T)

;Call C leg
exten => 7002,1,Dial(IAX2/iax_c@127.0.0.1:4570/c_exten)

; __________________ B ______________________
exten => b_exten,1,Set(GLOBAL(BLONDE_TEST_B_LEG)=FAIL-made it to b_exten though)
exten => b_exten,n,Answer()
exten => b_exten,n,Playback(${TALK_AUDIO})

;SIGNAL FOR TRANSFER, then wait with audio
exten => b_exten,n,SendDTMF(*w2)
exten => b_exten,n,Playback(${TALK_AUDIO})
exten => b_exten,n,Set(GLOBAL(BLONDE_TEST_B_LEG)=FAIL-began transfer)

;ENTER TRANSFER EXTEN
exten => b_exten,n,SendDTMF(7w0w0w2w)

exten => b_exten,n,Set(GLOBAL(BLONDE_TEST_B_LEG)=PASS)

;HANGUP before C answers
;exten => b_exten,n,HangUp()
